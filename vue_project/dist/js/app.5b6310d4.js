(function(e){function t(t){for(var l,r,o=t[0],n=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],l=!0,o=1;o<a.length;o++){var n=a[o];0!==s[n]&&(l=!1)}l&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var l={},s={app:0},i=[];function r(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=l,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(a,l,function(t){return e[t]}.bind(null,l));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],n=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=n;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"05ea":function(e,t,a){},"514d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var l=a("4b07"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],r={name:"App",title:"DNNDecomposer"},o=r,n=(a("9042"),a("1805")),c=Object(n["a"])(o,s,i,!1,null,null,null),d=c.exports,u=a("f191"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"tabs"},[t("button",{staticClass:"tab-button",on:{click:function(t){e.activeTab="modularization"}}},[e._v("Modularization")]),t("button",{staticClass:"tab-button",on:{click:function(t){e.activeTab="moduleDeployment"}}},[e._v("Module Deployment")])]),"modularization"===e.activeTab?t("div",{staticClass:"form"},[t("h2",[e._v("Modularization")]),t("div",{staticClass:"row"},[t("div",{staticClass:"column column-select"},[t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"algorithm"}},[e._v("Select Algorithm")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.algorithm,expression:"algorithm"}],staticClass:"input-select",attrs:{id:"algorithm"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.algorithm=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select an algorithm")]),t("option",[e._v("SEAM")]),t("option",[e._v("GradSplitter")])])]),"SEAM"===e.algorithm?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"direct-model-reuse"}},[e._v("Direct Model Reuse")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.directModelReuse,expression:"directModelReuse"}],staticClass:"input-select",attrs:{id:"direct-model-reuse"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.directModelReuse=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select a mode")]),t("option",[e._v("Binary Classification")]),t("option",[e._v("Multi-Class Classification")])])]):e._e(),"Multi-Class Classification"===e.directModelReuse?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"target-superclass-idx"}},[e._v("Target Superclass Idx")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.targetSuperclassIdx,expression:"targetSuperclassIdx"}],staticClass:"input-select",attrs:{id:"target-superclass-idx"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.targetSuperclassIdx=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select a target superclass index")]),t("option",[e._v("0")]),t("option",[e._v("1")]),t("option",[e._v("2")]),t("option",[e._v("3")]),t("option",[e._v("4")])])]):e._e(),"Binary Classification"===e.directModelReuse?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"target-class"}},[e._v("Target Class")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.targetClass,expression:"targetClass"}],staticClass:"input-select",attrs:{id:"target-class"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.targetClass=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select a target class")]),t("option",[e._v("0")]),t("option",[e._v("1")])])]):e._e(),t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"model-file"}},[e._v("Model File")]),t("div",{staticClass:"input-with-button"},[t("button",{on:{click:function(t){e.modelFileUploadMode="0"===e.modelFileUploadMode?"1":"0"}}},[e._v(" Switch ")]),"0"===e.modelFileUploadMode?t("input",{attrs:{id:"model-file",type:"file"},on:{change:e.onModelFileChange}}):t("select",{directives:[{name:"model",rawName:"v-model",value:e.modelFile,expression:"modelFile"}],attrs:{id:"model-file"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelFile=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select a model")]),e._l(e.modelFileOptionsForMultiClass,(function(a){return t("option",{key:a},[e._v(e._s(a))])}))],2)])]),e.modelFile?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"dataset-file"}},[e._v("Dataset File")]),t("div",{staticClass:"input-with-button"},[t("button",{on:{click:function(t){e.datasetFileUploadMode="0"===e.datasetFileUploadMode?"1":"0"}}},[e._v(" Switch ")]),"0"===e.datasetFileUploadMode?t("input",{attrs:{id:"dataset-file",type:"file"},on:{change:e.onDatasetFileChange}}):t("select",{directives:[{name:"model",rawName:"v-model",value:e.datasetFile,expression:"datasetFile"}],attrs:{id:"dataset-file"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.datasetFile=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Please select a dataset")]),e._l(e.datasetFileOptionsForMultiClass,(function(a){return t("option",{key:a},[e._v(e._s(a))])}))],2)])]):e._e()]),t("div",{staticClass:"column column-input"},["SEAM"!==e.algorithm?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"epoch"}},[e._v("Epoch")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.epoch,expression:"epoch"}],attrs:{id:"epoch",type:"number",step:"1",placeholder:"Enter epoch",min:"1"},domProps:{value:e.epoch},on:{input:function(t){t.target.composing||(e.epoch=t.target.value)}}}),e.isEpochValid?e._e():t("div",{staticClass:"error-message"},[e._v("Integer.")])]):e._e(),t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"learning-rate"}},[e._v(e._s("SEAM"===e.algorithm?"Learning Rate Mask":"Learning Rate"))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.learningRate,expression:"learningRate"}],attrs:{id:"learning-rate",type:"number",step:"0.001",placeholder:"Enter learning rate",min:"0.001"},domProps:{value:e.learningRate},on:{input:function(t){t.target.composing||(e.learningRate=t.target.value)}}}),e.isLearningRateValid?e._e():t("div",{staticClass:"error-message"},[e._v("Non-negative.")])]),"SEAM"===e.algorithm?t("div",{staticClass:"input-group"},[t("label",{staticClass:"input-label",attrs:{for:"alpha"}},[e._v("Alpha")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.alpha,expression:"alpha"}],attrs:{id:"alpha",type:"number",step:"0.01",placeholder:"Enter alpha",min:"0"},domProps:{value:e.alpha},on:{input:function(t){t.target.composing||(e.alpha=t.target.value)}}}),e.isAlphaValid?e._e():t("div",{staticClass:"error-message"},[e._v("Alpha must be non-negative.")])]):e._e()])]),t("div",{staticClass:"button-group"},[t("button",{staticClass:"run-button",on:{click:e.run}},[e._v("Run")]),t("button",{staticClass:"download-button",attrs:{disabled:!e.isModelReady},on:{click:e.download}},[e._v("Download Processed Model")])]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.logs,expression:"logs"}],staticClass:"logs",attrs:{readonly:""},domProps:{value:e.logs},on:{input:function(t){t.target.composing||(e.logs=t.target.value)}}}),e._v(" "),e.modelResult?t("div",[e._v(" Model Result: "+e._s(e.modelResult.status)+" ")]):e._e()]):e._e(),"moduleDeployment"===e.activeTab?t("div",[t("h2",[e._v("Module Deployment")])]):e._e()])},h=[],p=a("9b9e"),g={sockets:{connect:function(){console.log("socket connected")},model_result:function(e){console.log("received model result: "+JSON.stringify(e)),this.modelResult=e,this.logs+="Model Result: "+JSON.stringify(e)+"\n"},message:function(e){console.log("received message: "+e),this.logs+="Message: "+e+"\n"}},data(){return{activeTab:"modularization",modelFile:null,datasetFile:null,algorithm:"",epoch:"1",learningRate:"",logs:"",isModelReady:!1,modelFileUploadMode:"1",datasetFileUploadMode:"1",directModelReuse:"",targetClass:"-1",alpha:"1",targetSuperclassIdx:"-1",message:"",modelStatus:"",modelResult:null}},computed:{modelFileOptionsForMultiClass(){return"Multi-Class Classification"===this.directModelReuse?["ResNet20","ResNet50"]:this.modelFileOptions},datasetFileOptionsForMultiClass(){if("Multi-Class Classification"===this.directModelReuse){if("ResNet20"===this.modelFile)return["CIFAR100"];if("ResNet50"===this.modelFile)return["ImageNet"]}return this.datasetFileOptions},isEpochValid(){const e=Number(this.epoch);return Number.isInteger(e)&&this.epoch>0},isLearningRateValid(){return this.learningRate>0},modelFileOptions(){return"SEAM"===this.algorithm?["vgg16","resnet20"]:["Model 1","Model 2","Model 3"]},datasetFileOptions(){return"SEAM"===this.algorithm?["cifar10","cifar100"]:["Dataset 1","Dataset 2","Dataset 3"]},isAlphaValid(){return this.alpha>=0}},methods:{onModelFileChange(e){this.modelFile=e.target.files[0]},onDatasetFileChange(e){this.datasetFile=e.target.files[0]},run(){if(!this.modelFile)return void window.alert("Please select a model file.");if(!this.datasetFile)return void window.alert("Please select a dataset file.");if(!this.algorithm)return void window.alert("Please select an algorithm.");if(!this.isEpochValid)return void window.alert("Integer");if(!this.isLearningRateValid)return void window.alert("Non-negative.");window.alert("Running..."),this.isModelReady=!0;const e={modelFile:this.modelFile,datasetFile:this.datasetFile,algorithm:this.algorithm,epoch:this.epoch,learningRate:this.learningRate,directModelReuse:this.directModelReuse,targetClass:this.targetClass,alpha:this.alpha,targetSuperclassIdx:this.targetSuperclassIdx};p["a"].post("http://127.0.0.1:5000/run_model",e).then(e=>{this.logs=e.data.logs,this.isModelReady=e.data.isModelReady}).catch(e=>{console.error(e),this.logs="An error occurred while running the model."})},download(){Object(p["a"])({method:"GET",url:"http://127.0.0.1:5000/download",responseType:"blob"}).then(e=>{const t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","lr_head_mask_0.1_0.01_alpha_1.0.pth"),document.body.appendChild(a),a.click()}).catch(e=>{console.log(e)})}}},b=g,v=(a("e2c9"),Object(n["a"])(b,m,h,!1,null,null,null)),f=v.exports,y=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{height:"85px"}},[t("span",{staticStyle:{"margin-top":"0","margin-left":"5%"}},[e._v(" DNNDecomposer ")])]),t("el-container",[t("el-aside",{staticStyle:{width:"78%","border-width":"0 1px 0 0","border-style":"solid","border-color":"#E4E7ED"}},[t("h2",{staticStyle:{"text-align":"left","margin-left":"15%",float:"left","margin-top":"2%","margin-bottom":"3%"}},[e._v(" Model Modularization")]),t("el-button",{staticStyle:{float:"right","margin-right":"5%","margin-top":"2%","font-size":"larger",width:"220px","margin-bottom":"10px"},attrs:{type:"success"},on:{click:e.JumpToBenchmark}},[e._v(" Benchmark")]),t("div",{staticClass:"form-body",staticStyle:{"margin-left":"20%","margin-right":"5%","margin-top":"100px"}},[t("el-form",{ref:"form",attrs:{"label-width":"220px","label-position":"left",model:e.form,id:"selectForm",inline:!0}},[t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Model File:"}},[t("el-select",{attrs:{placeholder:"Please select a model"},on:{change:e.ResetAll},model:{value:e.modelFile,callback:function(t){e.modelFile=t},expression:"modelFile"}},e._l(e.ModelFileList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Dataset File:"}},[t("el-select",{attrs:{placeholder:"Please select a dataset"},on:{change:e.AlgorithSelectHelper},model:{value:e.datasetFile,callback:function(t){e.datasetFile=t},expression:"datasetFile"}},e._l(e.wholeDatasetFileOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),null!=e.datasetFile&&null!=e.modelFile?t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Algorithm:"}},[t("el-select",{attrs:{placeholder:"Please select an algorithm"},model:{value:e.algorithm,callback:function(t){e.algorithm=t},expression:"algorithm"}},[t("el-option",{attrs:{label:"SeaM",value:"SEAM",disabled:e.selectDisabled.SEAM}}),t("el-option",{attrs:{label:"GradSplitter",value:"GradSplitter",disabled:e.selectDisabled.GradSplitter}})],1)],1):e._e(),"SEAM"===e.algorithm?t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Model Reuse Method:"}},[t("div",{staticClass:"chooseFromCards",staticStyle:{width:"600px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",[t("el-card",{staticStyle:{width:"90%",height:"120px"},attrs:{"body-style":{padding:"0px 20px"},shadow:"Multi-Class Classification"===e.directModelReuse||"Binary Classification"===e.directModelReuse?"always":"hover"}},[t("p",{staticStyle:{"font-weight":"bolder","margin-top":"0","margin-bottom":"15px",color:"#606266"}},[e._v("Direct Model Reuse")]),t("el-radio-group",{on:{change:e.settargetIdxOptions},model:{value:e.directModelReuse,callback:function(t){e.directModelReuse=t},expression:"directModelReuse"}},[t("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"Binary Classification",size:"medium",disabled:e.selectDisabled.binary}},[e._v(" Binary Classification")]),t("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"Multi-Class Classification",size:"medium",disabled:e.selectDisabled.multi}},[e._v(" Multi-Class Classification")])],1)],1)],1)]),t("el-col",{attrs:{span:12}},[t("div",[t("el-card",{staticStyle:{width:"90%",height:"120px"},attrs:{"body-style":{padding:"0px 20px"},shadow:"Defect Inheritance"===this.directModelReuse?"always":"hover"}},[t("p",{staticStyle:{"font-weight":"bolder","margin-top":"0","margin-bottom":"15px",color:"#606266"}},[e._v("Indirect Model Reuse")]),t("el-radio-group",{model:{value:e.directModelReuse,callback:function(t){e.directModelReuse=t},expression:"directModelReuse"}},[t("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"Defect Inheritance",size:"medium",disabled:e.selectDisabled.defect}},[e._v("Defect Inheritance")])],1)],1)],1)])],1)],1)]):e._e(),"GradSplitter"===e.algorithm?t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Model Reuse Method:"}},[t("div",{staticClass:"chooseFromCards",staticStyle:{width:"600px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",[t("el-card",{staticStyle:{width:"90%",height:"120px"},attrs:{"body-style":{padding:"0px 20px"},shadow:"More Accurate"===e.reuseMethod||"For New Task"===e.reuseMethod?"always":"hover"}},[t("p",{staticStyle:{"font-weight":"bolder","margin-top":"0","margin-bottom":"15px",color:"#606266"}},[e._v("Module Composition")]),t("el-radio-group",{model:{value:e.reuseMethod,callback:function(t){e.reuseMethod=t},expression:"reuseMethod"}},[t("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"More Accurate",size:"medium"}},[e._v("More Accurate")]),t("el-radio",{staticStyle:{"margin-bottom":"15px"},attrs:{label:"For New Task",size:"medium"}},[e._v("For New Task")])],1)],1)],1)])],1)],1)]):e._e(),"GradSplitter"===e.algorithm&&"For New Task"===e.reuseMethod?t("el-form-item",{staticClass:"selectItem",attrs:{label:"Choose Modules:"}},[t("el-select",{staticStyle:{"margin-bottom":"10px","margin-right":"20px"},attrs:{placeholder:"Modules from CIFAR-10"},model:{value:e.cifarclass,callback:function(t){e.cifarclass=t},expression:"cifarclass"}},e._l(e.cifar10classes,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{attrs:{placeholder:"Modules from SVHN"},model:{value:e.svhnclass,callback:function(t){e.svhnclass=t},expression:"svhnclass"}},e._l(e.svhnclasses,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("p",{staticStyle:{color:"darkgray","margin-top":"0","line-height":"10px"}},[e._v("Build a binary-classification model by combination two modules. ")])],1):e._e(),"SEAM"===e.algorithm&&"Multi-Class Classification"===e.directModelReuse?t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Target Superclass Idx:"}},[t("el-select",{staticClass:"selectLong",attrs:{placeholder:"Please select a target superclass index"},model:{value:e.targetSuperclassIdx,callback:function(t){e.targetSuperclassIdx=t},expression:"targetSuperclassIdx"}},e._l(e.targetSuperclassIdxOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e,disabled:e.disable}})})),1)],1):e._e(),"SEAM"===e.algorithm&&"Binary Classification"===e.directModelReuse?t("el-form-item",{staticClass:"selectItem",staticStyle:{width:"100%"},attrs:{label:"Target Class Idx:"}},[t("el-select",{attrs:{placeholder:"Please select a target class"},model:{value:e.targetClass,callback:function(t){e.targetClass=t},expression:"targetClass"}},e._l(e.targetClassIdxOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e}})})),1)],1):e._e(),"GradSplitter"===e.algorithm?t("el-form-item",{staticClass:"selectItem",staticStyle:{"margin-right":"5%"},attrs:{label:"Epochs:"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The number of epochs must be an integer.",placement:"bottom-start"}},[t("el-input-number",{attrs:{disabled:""===e.algorithm,step:1,min:1,max:500,"step-strictly":""},model:{value:e.epoch,callback:function(t){e.epoch=t},expression:"epoch"}})],1)],1):e._e(),"SEAM"===e.algorithm?t("el-form-item",{staticClass:"selectItem",staticStyle:{"margin-right":"5%"},attrs:{label:"Alpha:"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Alpha must be non-negative.",placement:"bottom-start"}},[t("el-input-number",{attrs:{disabled:""===e.algorithm,precision:2,step:.01,min:0,max:2,"step-strictly":""},model:{value:e.alpha,callback:function(t){e.alpha=t},expression:"alpha"}})],1)],1):e._e(),"SEAM"===e.algorithm?t("el-form-item",{staticClass:"selectItem",attrs:{label:"Learning Rate"}},[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Learning rate is usually in the range of (0,1). ",placement:"bottom-start"}},[t("el-input-number",{attrs:{disabled:""===e.algorithm,precision:3,step:.001,min:.001,max:1,"step-strictly":""},model:{value:e.learningRate,callback:function(t){e.learningRate=t},expression:"learningRate"}})],1)],1):e._e()],1),t("div",{staticStyle:{width:"100%","margin-top":"40px",display:"flex","flex-direction":"row","flex-wrap":"wrap"}},[t("el-button",{staticStyle:{"font-size":"larger","margin-bottom":"10px",width:"150px",flex:"0 auto"},attrs:{type:"success"},on:{click:e.beforeRunModularization}},[e._v(" Modularize")]),t("el-button",{staticStyle:{"font-size":"larger","margin-bottom":"10px",width:"300px",flex:"0 auto"},attrs:{type:"warning"},on:{click:e.download}},[e._v(" Download Process Model")]),"SEAM"===e.algorithm?t("el-button",{staticStyle:{"justify-content":"flex-end","margin-left":"auto","font-size":"larger","margin-bottom":"10px",flex:"0 auto"},attrs:{type:"primary"},on:{click:e.JumpToDeployment}},[e._v(" Module Reuse ")]):e._e(),"GradSplitter"===e.algorithm?t("el-button",{staticStyle:{"justify-content":"flex-end","margin-left":"auto","font-size":"larger","margin-bottom":"10px",flex:"0 auto"},attrs:{disabled:"More Accurate"!==e.reuseMethod&&"For New Task"!==e.reuseMethod,type:"primary"},on:{click:e.runReuse}},[e._v(" Module Reuse ")]):e._e()],1),t("div",{staticStyle:{"margin-top":"40px"}},[e.progressrunning?t("el-progress",{staticStyle:{width:"100%"},attrs:{percentage:e.progresspersentage,color:e.progresscolor,"text-inside":!0,"show-text":!1,"text-color":"white"}}):e._e(),t("el-input",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{readonly:"",resize:"none",type:"textarea",rows:"7"},model:{value:e.logs,callback:function(t){e.logs=t},expression:"logs"}})],1)],1)],1),t("el-main",{staticStyle:{"align-items":"center"}},[t("el-card",{staticStyle:{"margin-bottom":"30px",width:"90%","margin-left":"2%"},attrs:{shadow:"never"}},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[t("i",{staticClass:"el-icon-guide"})]),t("span",{staticStyle:{"font-size":"large","font-weight":"bold","margin-left":"10px"}},[e._v("Queue")])]),t("div",[t("div",[t("el-tag",{staticStyle:{"margin-right":"10px",color:"#333","margin-bottom":"15px","min-width":"190px","font-size":"medium"},attrs:{color:e.StatusColor["running"],effect:"dark",hit:!0}},[t("i",{staticClass:"el-icon-video-play",staticStyle:{"margin-right":"10px","margin-left":"5px"}}),t("span",[e._v("Task Running:")]),t("span",{staticStyle:{"font-weight":"bolder","margin-left":"10px"}},[e._v(e._s(e.queueNum.running)+" ")])])],1),t("div",[t("el-tag",{staticStyle:{"margin-right":"10px",color:"#333","margin-bottom":"15px","min-width":"190px","font-size":"medium"},attrs:{color:e.StatusColor["pending"],effect:"dark",hit:!0}},[t("i",{staticClass:"el-icon-loading",staticStyle:{"margin-right":"10px","margin-left":"5px"}}),t("span",[e._v("Task Pending:")]),t("span",{staticStyle:{"font-weight":"bolder","margin-left":"10px"}},[e._v(e._s(e.queueNum.pending)+" ")])])],1),t("div",[t("el-tag",{staticStyle:{"margin-right":"10px",color:"#333","margin-bottom":"15px","min-width":"190px","font-size":"medium"},attrs:{color:e.StatusColor["done"],effect:"dark",hit:!0}},[t("i",{staticClass:"el-icon-finished",staticStyle:{"margin-right":"10px","margin-left":"5px"}}),t("span",[e._v("Task Done:")]),t("span",{staticStyle:{"font-weight":"bolder","margin-left":"30px"}},[e._v(e._s(e.queueNum.done)+" ")])])],1)])])],1)],1),e._v("> "),t("el-dialog",{staticClass:"areusuredialog",attrs:{visible:e.AreUSure,width:"30%"},on:{"update:visible":function(t){e.AreUSure=t}}},[t("span",{staticClass:"header-title",attrs:{slot:"title"},slot:"title"},[t("h2",{staticStyle:{"margin-left":"20px"}},[t("i",{staticClass:"el-icon-warning",staticStyle:{"margin-right":"10px"}}),e._v(" Warning")])]),t("p",{staticStyle:{"font-size":"medium"}},[e._v("This function will cost around 900 minutes for decomposing 10 pretrained models. Please comfirm that you have enough time.")]),t("div",{staticStyle:{"text-align":"center",height:"50px","margin-top":"40px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.runModularization}},[e._v(" I'm Sure ")]),t("el-button",{attrs:{type:"warning"},on:{click:function(t){e.AreUSure=!1}}},[e._v(" Quit ")])],1)])],1)},_=[],S=a("ff11"),k={created(){this.socket=Object(S["a"])("http://127.0.0.1:5000/"),this.socket.on("connect",()=>{console.log("socket connected")}),this.socket.on("model_result",e=>{console.log("received model result: "+JSON.stringify(e)),this.logs+="Model Result: "+JSON.stringify(e)+"\n"}),this.socket.on("message",e=>{console.log("received message: "+e),this.logs+="Message: "+e+"\n"}),this.socket.on("reuse_result",e=>{console.log("received reuse result"+JSON.stringify(e)),this.reuselogs+="Reuse Result: "+JSON.stringify(e)+"\n"}),this.socket.on("reuse_message",e=>{console.log("received message: "+e),this.reuselogs+="Message: "+e+"\n"}),this.socket.on("get_progress_percentage",e=>{console.log("received progress data: "+e),this.progresspersentage=parseInt(JSON.stringify(e))}),this.progressrunning=!1},beforeMount(){},mounted(){this.timer=setInterval(this.updateProgress,5e3)},beforeDestroy(){this.socket.off("connect"),this.socket.off("model_result"),this.socket.off("message"),this.socket.off("reuse_result"),this.socket.off("reuse_message"),this.socket.off("get_progress_percentage"),this.socket.close(),clearInterval(this.timer)},data(){return{selectDisabled:{SEAM:!1,GradSplitter:!1,binary:!1,multi:!1,defect:!1},form:{},modelFile:null,datasetFile:null,algorithm:"",epoch:145,learningRate:.01,directModelReuse:"",targetClass:"",alpha:1,targetSuperclassIdx:"",logs:"",reuselogs:"",isModelReady:!1,modelFileUploadMode:"1",datasetFileUploadMode:"1",taskid:"",taskQueue:{},taskStatus:"running",StatusColor:{pending:"#ffd54f",done:"#aed581",running:"#81d4fa"},queueNum:{pending:404,running:0,done:0},lenQueue:3,message:"",modelStatus:"",progresspersentage:0,progresscolor:"#4db6ac",progressrunning:!1,socket:null,reuseMethod:"",cifarclass:"",svhnclass:"",AreUSure:!1,targetSuperclassIdxOptions:[],targetClassIdxOptions:[],cifar10classes:[{value:"0",label:"0 - Airplane"},{value:"1",label:"1 - Automobile"},{value:"2",label:"2 - Bird"},{value:"3",label:"3 - Cat"},{value:"4",label:"4 - Deer"},{value:"5",label:"5 - Dog"},{value:"6",label:"6 - Frog"},{value:"7",label:"7 - Horse"},{value:"8",label:"8 - Ship"},{value:"9",label:"9 - Truck"}],svhnclasses:[{value:"0",label:"0 - Number 0"},{value:"1",label:"1 - Number 1"},{value:"2",label:"2 - Number 2"},{value:"3",label:"3 - Number 3"},{value:"4",label:"4 - Number 4"},{value:"5",label:"5 - Number 5"},{value:"6",label:"6 - Number 6"},{value:"7",label:"7 - Number 7"},{value:"8",label:"8 - Number 8"},{value:"9",label:"9 - Number 9"}],ModelFileList:[{value:"vgg16",label:"VGG16"},{value:"resnet20",label:"ResNet20"},{value:"resnet50",label:"ResNet50"},{value:"resnet18",label:"ResNet18"},{value:"simcnn",label:"SimCNN"},{value:"rescnn",label:"ResCNN"},{value:"incecnn",label:"InceCNN"}],imagenetsuperclasses:[{value:"0",label:"0 - fish(3 classes: tench, goldfish, crampfish)"},{value:"1",label:"1 - shark(2 classes: white shark, tiger shark)"},{value:"2",label:"2 - bird(5 classes: cock, hen, ostrich, brambling, goldfinch)"},{value:"3",label:"3 - salamander(4 classes: salamandra, common newt, eft, spotted salamander)"},{value:"4",label:"4 - frog(3 classes: bullfrog, tree frog, tailed frog)"},{value:"5",label:"5 - turtle(2 classes: loggerhead, leatherback turtle)"},{value:"6",label:"6 - lizard(4 classes: banded gecko, iguana, anole, whiptail)"},{value:"7",label:"7 - crocodile(2 classes: African crocodile, American alligator)"},{value:"8",label:"8 - dinosaur(1 class: triceratops)"},{value:"9",label:"9 - snake(3 classes: thunder snake, ringneck snake, hognose snake)"},{value:"-1",label:"...",disable:!0}],cifar100superclasses:[{value:"0",label:"0 - beaver, dolphin, otter, seal, whale"},{value:"1",label:"1 - aquarium_fish, flatfish, ray, shark, trout"},{value:"2",label:"2 - orchid, poppy, rose, sunflower, tulip"},{value:"3",label:"3 - bottle, bowl, can, cup, plate"},{value:"4",label:"4 - apple, mushroom, orange, pear, sweet_pepper"},{value:"5",label:"5 - clock, keyboard, lamp, telephone, television"},{value:"6",label:"6 - bed, chair, couch, table, wardrobe"},{value:"7",label:"7 - bee, beetle, butterfly, caterpillar, cockroach"},{value:"8",label:"8 - bear, leopard, lion, tiger, wolf"},{value:"9",label:"9 - bridge, castle, house, road, skyscraper"},{value:"10",label:"10 - cloud, forest, mountain, plain, sea"},{value:"11",label:"11 - camel, cattle, chimpanzee, elephant, kangaroo"},{value:"12",label:"12 - fox, porcupine, possum, raccoon, skunk"},{value:"13",label:"13 - crab, lobster, snail, spider, worm"},{value:"14",label:"14 - baby, boy, girl, man, woman"},{value:"15",label:"15 - crocodile, dinosaur, lizard, snake, turtle"},{value:"16",label:"16 - hamster, mouse, rabbit, shrew, squirrel"},{value:"17",label:"17 - maple_tree, oak_tree, palm_tree, pine_tree, willow_tree"},{value:"18",label:"18 - bicycle, bus, motorcycle, pickup_truck, train"},{value:"19",label:"19 - lawn_mower, rocket, streetcar, tank, tractor"}],cifar100classes:[{value:"0",label:"0 - apple"},{value:"1",label:"1 - aquarium_fish"},{value:"2",label:"2 - baby"},{value:"3",label:"3 - bear"},{value:"4",label:"4 - beaver"},{value:"5",label:"5 - bed"},{value:"6",label:"6 - bee"},{value:"7",label:"7 - beetle"},{value:"8",label:"8 - bicycle"},{value:"9",label:"9 - bottle"},{value:"10",label:"10 - bowl"},{value:"11",label:"11 - boy"},{value:"12",label:"12 - bridge"},{value:"13",label:"13 - bus"},{value:"14",label:"14 - butterfly"},{value:"15",label:"15 - camel"},{value:"16",label:"16 - can"},{value:"17",label:"17 - castle"},{value:"18",label:"18 - caterpillar"},{value:"19",label:"19 - cattle"},{value:"20",label:"20 - chair"},{value:"21",label:"21 - chimpanzee"},{value:"22",label:"22 - clock"},{value:"23",label:"23 - cloud"},{value:"24",label:"24 - cockroach"},{value:"25",label:"25 - couch"},{value:"26",label:"26 - crab"},{value:"27",label:"27 - crocodile"},{value:"28",label:"28 - cup"},{value:"29",label:"29 - dinosaur"},{value:"30",label:"30 - dolphin"},{value:"31",label:"31 - elephant"},{value:"32",label:"32 - flatfish"},{value:"33",label:"33 - forest"},{value:"34",label:"34 - fox"},{value:"35",label:"35 - girl"},{value:"36",label:"36 - hamster"},{value:"37",label:"37 - house"},{value:"38",label:"38 - kangaroo"},{value:"39",label:"39 - keyboard"},{value:"40",label:"40 - lamp"},{value:"41",label:"41 - lawn_mower"},{value:"42",label:"42 - leopard"},{value:"43",label:"43 - lion"},{value:"44",label:"44 - lizard"},{value:"45",label:"45 - lobster"},{value:"46",label:"46 - man"},{value:"47",label:"47 - maple_tree"},{value:"48",label:"48 - motorcycle"},{value:"49",label:"49 - mountain"},{value:"50",label:"50 - mouse"},{value:"51",label:"51 - mushroom"},{value:"52",label:"52 - oak_tree"},{value:"53",label:"53 - orange"},{value:"54",label:"54 - orchid"},{value:"55",label:"55 - otter"},{value:"56",label:"56 - palm_tree"},{value:"57",label:"57 - pear"},{value:"58",label:"58 - pickup_truck"},{value:"59",label:"59 - pine_tree"},{value:"60",label:"60 - plain"},{value:"61",label:"61 - plate"},{value:"62",label:"62 - poppy"},{value:"63",label:"63 - porcupine"},{value:"64",label:"64 - possum"},{value:"65",label:"65 - rabbit"},{value:"66",label:"66 - raccoon"},{value:"67",label:"67 - ray"},{value:"68",label:"68 - road"},{value:"69",label:"69 - rocket"},{value:"70",label:"70 - rose"},{value:"71",label:"71 - sea"},{value:"72",label:"72 - seal"},{value:"73",label:"73 - shark"},{value:"74",label:"74 - shrew"},{value:"75",label:"75 - skunk"},{value:"76",label:"76 - skyscraper"},{value:"77",label:"77 - snail"},{value:"78",label:"78 - snake"},{value:"79",label:"79 - spider"},{value:"80",label:"80 - squirrel"},{value:"81",label:"81 - streetcar"},{value:"82",label:"82 - sunflower"},{value:"83",label:"83 - sweet_pepper"},{value:"84",label:"84 - table"},{value:"85",label:"85 - tank"},{value:"86",label:"86 - telephone"},{value:"87",label:"87 - television"},{value:"88",label:"88 - tiger"},{value:"89",label:"89 - tractor"},{value:"90",label:"90 - train"},{value:"91",label:"91 - trout"},{value:"92",label:"92 - tulip"},{value:"93",label:"93 - turtle"},{value:"94",label:"94 - wardrobe"},{value:"95",label:"95 - whale"},{value:"96",label:"96 - willow_tree"},{value:"97",label:"97 - wolf"},{value:"98",label:"98 - woman"},{value:"99",label:"99 - worm"}]}},computed:{wholeDatasetFileOptions(){switch(this.modelFile){case"vgg16":return[{value:"cifar10",label:"CIFAR-10"},{value:"cifar100",label:"CIFAR-100"}];case"resnet20":return[{value:"cifar10",label:"CIFAR-10"},{value:"cifar100",label:"CIFAR-100"}];case"resnet50":return[{value:"ImageNet",label:"ImageNet"}];case"resnet18":return[{value:"mit67",label:"MIT67"}];default:return[{value:"cifar10",label:"CIFAR-10"},{value:"svhn",label:"SVHN"}]}}},methods:{JumpToDeployment(){this.$router.push("/deployment")},JumpToBenchmark(){this.$router.push("/benchmark")},ResetModelandDataset(){"1"===this.datasetFileUploadMode&&(this.datasetFile=null),"1"===this.modelFileUploadMode&&(this.modelFile=null)},ResetAll(){this.datasetFile=null,this.algorithm="",this.selectDisabled={SEAM:!1,GradSplitter:!1,binary:!1,multi:!1,defect:!1},this.directModelReuse="",this.learningRate=.01,this.alpha=1},settargetIdxOptions(){let e=this;"Multi-Class Classification"===this.directModelReuse&&("ImageNet"===this.datasetFile?(console.log("set targetSUPERclass for ImageNet"),this.targetSuperclassIdxOptions=e.imagenetsuperclasses):"cifar100"===this.datasetFile&&(console.log("set targetSUPERclass for CIFAR-100"),this.targetSuperclassIdxOptions=this.cifar100superclasses,"resnet20"==this.modelFile&&(this.alpha=2))),"Binary Classification"===this.directModelReuse&&("cifar10"===this.datasetFile?(console.log("set targetclass for cifar10"),this.targetClassIdxOptions=this.cifar10classes):"cifar100"===this.datasetFile&&(console.log("set targetclass for cifar100"),this.targetClassIdxOptions=this.cifar100classes,"resnet20"==this.modelFile&&(this.alpha=1.5)))},beforeRunModularization(){if("GradSplitter"===this.algorithm)console.log("before run gradsplitter"),this.AreUSure=!0;else{console.log("before run seam");let e=this;e.runModularization()}},AlgorithSelectHelper(){let e=this;"vgg16"===this.modelFile&&null!=this.datasetFile&&(console.log(this.modelFile),console.log(this.datasetFile),this.algorithm="SEAM",this.selectDisabled.GradSplitter=!0,this.selectDisabled.multi=!0,this.selectDisabled.defect=!0,this.directModelReuse="Binary Classification",e.settargetIdxOptions(),this.learningRate=.01,this.alpha=1,"cifar100"===this.datasetFile&&(this.learningRate=.05)),"resnet20"===this.modelFile&&("cifar10"===this.datasetFile?(this.algorithm="SEAM",this.selectDisabled.GradSplitter=!0,this.selectDisabled.multi=!0,this.selectDisabled.defect=!0,this.directModelReuse="Binary Classification",e.settargetIdxOptions(),this.learningRate=.05,this.alpha=1):"cifar100"===this.datasetFile&&(this.algorithm="SEAM",this.directModelReuse="",this.selectDisabled.GradSplitter=!0,this.selectDisabled.defect=!0,this.selectDisabled.multi=!1,this.selectDisabled.binary=!1,this.learningRate=.1,this.alpha=1.5)),"resnet50"===this.modelFile&&"ImageNet"===this.datasetFile&&(this.algorithm="SEAM",this.selectDisabled.GradSplitter=!0,this.selectDisabled.binary=!0,this.selectDisabled.defect=!0,this.directModelReuse="Multi-Class Classification",e.settargetIdxOptions(),this.learningRate=.05,this.alpha=2),"resnet18"===this.modelFile&&"mit67"===this.datasetFile&&(this.algorithm="SEAM",this.selectDisabled.GradSplitter=!0,this.selectDisabled.binary=!0,this.selectDisabled.multi=!0,this.directModelReuse="Defect Inheritance",this.learningRate=.05,this.alpha=.5),"simcnn"!==this.modelFile&&"rescnn"!==this.modelFile&&"incecnn"!==this.modelFile||null==this.datasetFile||(this.algorithm="GradSplitter",this.selectDisabled.SEAM=!0,this.reuseMethod="")},updateProgress(){p["a"].get("http://127.0.0.1:5000/list_tasks").then(e=>{console.log(e.data);let t=e.data;console.log(t),this.taskQueue=t;const a=Object.values(t);console.log(a);var l=0,s=0,i=0;if(a.length>0&&(l=a.filter(e=>"pending"==e).length,s=a.filter(e=>"running"==e).length,i=a.filter(e=>"done"==e).length),this.queueNum.pending=l,this.queueNum.running=s,this.queueNum.done=i,console.log(JSON.stringify(this.queueNum)),this.taskid){const e=Object.getOwnPropertyDescriptor(t,this.taskid);console.log(e.value),this.$set(this.taskStatus,e.value)}const r=Object.keys(t).length;this.lenQueue=r,this.$forceUpdate()}).catch(e=>{console.error(e)})},runModularization(){console.log("run modular"),!0===this.AreUSure&&(this.AreUSure=!1),this.$message({message:"RUNNING...",type:"success"},{center:!0,showConfirmButton:!1});const e={modelFile:this.modelFile,datasetFile:this.datasetFile,algorithm:this.algorithm.toString(),epoch:this.epoch.toString(),learningRate:this.learningRate.toString(),directModelReuse:this.directModelReuse,targetClass:this.targetClass.value,targetClassLabel:this.targetClass.label,alpha:this.alpha.toString(),targetSuperclassIdx:this.targetSuperclassIdx.value,targetSuperclassLabel:this.targetSuperclassIdx.label};console.log(e),sessionStorage.setItem("modelFile",this.modelFile),sessionStorage.setItem("datasetFile",this.datasetFile),sessionStorage.setItem("algorithm",this.algorithm),sessionStorage.setItem("epoch",this.epoch),sessionStorage.setItem("learningRate",this.learningRate),sessionStorage.setItem("directModelReuse",this.directModelReuse),sessionStorage.setItem("targetClass",this.targetClass.value),sessionStorage.setItem("targetClassLabel",this.targetClass.label),sessionStorage.setItem("alpha",this.alpha),sessionStorage.setItem("targetSuperclassIdx",this.targetSuperclassIdx.value),sessionStorage.setItem("targetSuperclassLabel",this.targetSuperclassIdx.label),this.progressrunning=!0,p["a"].post("http://127.0.0.1:5000/run_model",e).then(e=>{this.taskid=e.data.task_id,console.log("got task_id ="+this.taskid)}).catch(e=>{console.error(e),this.logs="An error occurred while running the model."}),sessionStorage.setItem("taskid",this.taskid)},runReuse(){this.$message({message:"RUNNING...",type:"success"},{center:!0,showConfirmButton:!1});const e={modelFile:sessionStorage.getItem("modelFile"),datasetFile:sessionStorage.getItem("datasetFile"),algorithm:this.algorithm.toString(),epoch:this.epoch.toString(),reuseMethod:this.reuseMethod,cifarclass:this.cifarclass,svhnclass:this.svhnclass};console.log(e),p["a"].post("http://127.0.0.1:5000/run_reuse",e).then(e=>{}).catch(e=>{console.error(e),this.reuselogs="An error occurred while running the model."})},download(){const e={modelFile:this.modelFile,datasetFile:this.datasetFile,algorithm:this.algorithm.toString(),epoch:this.epoch.toString(),learningRate:this.learningRate.toString(),directModelReuse:this.directModelReuse,targetClass:this.targetClass,alpha:this.alpha.toString(),targetSuperclassIdx:this.targetSuperclassIdx};p["a"].post("http://127.0.0.1:5000/download",e,{responseType:"blob"}).then(e=>{const t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t;const l=e.headers["content-disposition"];console.log("downloadName: "+l),console.log(e.headers),a.setAttribute("download",l),document.body.appendChild(a),a.click()}).catch(e=>{console.error("Download error: ",e)})},checkRunInformation(){console.log("form:"+this.form),console.log("algorithm:"+this.algorithm),console.log("directModelReuse:"+this.directModelReuse),console.log("targetSuperclassIdx:"+this.targetSuperclassIdx),console.log("targetClass:"+this.targetClass),console.log("epoch:"+this.epoch),console.log("alpha:"+this.alpha),console.log("learningRate:"+this.learningRate),console.log("modelFile:"+this.modelFile),console.log("datasetFile:"+this.datasetFile)}}},x=k,M=(a("7148"),Object(n["a"])(x,y,_,!1,null,null,null)),C=M.exports,R=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{height:"85px"}},[t("span",{staticStyle:{"margin-top":"0","margin-left":"5%"},on:{click:e.jumptohome}},[e._v(" DNNDecomposer ")])]),t("el-main",[t("h2",{staticStyle:{"text-align":"left","margin-left":"10.5%","margin-top":"2%","margin-bottom":"3%"}},[t("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"5px"},on:{click:e.jumptohome}}),e._v(" Module Reuse")]),t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticClass:"DatatTable",staticStyle:{"margin-left":"14%","margin-right":"15%","margin-top":"40px"}},[t("el-descriptions",{attrs:{title:"Model Modularization Information",border:""}},[t("el-descriptions-item",{attrs:{label:"Algortihm",labelStyle:"width:15%",contentStyle:"width:15%"}},[t("el-tag",{staticStyle:{"font-weight":"bolder"},attrs:{effect:"dark",hit:!0,color:"SEAM"===e.dataTable.algorithm?"#00bcd4":"#ffc107"}},[e._v(" "+e._s(e.dataTable.algorithm))])],1),t("el-descriptions-item",{attrs:{label:"Model",labelStyle:"width:13%",contentStyle:"width:17%"}},[e._v(e._s(e.dataTable.modelFile))]),t("el-descriptions-item",{attrs:{label:"Dataset",labelStyle:"width:13%",contentStyle:"width:17%"}},[e._v(e._s(e.dataTable.datasetFile))]),"GradSplitter"===e.dataTable.algorithm?t("el-descriptions-item",{attrs:{label:"Epochs"}},[e._v(e._s(e.dataTable.epoch))]):e._e(),"SEAM"===e.dataTable.algorithm?t("el-descriptions-item",{attrs:{span:"6",label:"Model Reuse Method"}},[e._v(e._s(e.dataTable.directModelReuse))]):e._e(),"SEAM"===e.dataTable.algorithm&&"Multi-Class Classification"===e.dataTable.directModelReuse?t("el-descriptions-item",{attrs:{label:"Target Superclass Idx"}},[e._v(e._s(e.dataTable.targetSuperclassIdx))]):e._e(),"SEAM"===e.dataTable.algorithm&&"Binary Classification"===e.dataTable.directModelReuse?t("el-descriptions-item",{attrs:{label:"Target Class Idx"}},[e._v(e._s(e.dataTable.targetClass))]):e._e(),t("el-descriptions-item",{attrs:{label:"Learning rate"}},[e._v(e._s(e.dataTable.learningRate))]),"SEAM"===e.dataTable.algorithm?t("el-descriptions-item",{attrs:{label:"Alpha"}},[e._v(e._s(e.dataTable.alpha))]):e._e()],1)],1),t("h4",{staticStyle:{"text-align":"left","margin-left":"14%","margin-right":"15%","margin-top":"80px"}},[e._v(" Module Deployment")]),t("div",{staticStyle:{"margin-left":"14%","margin-right":"15%","margin-top":"20px","text-align":"left"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("div",{staticClass:"figfileList"},[t("el-card",{staticClass:"catdogcard",attrs:{"body-style":{padding:"10px 20px"},shadow:"cat"===this.selectedImage?"always":"hover"}},[t("el-image",{staticStyle:{height:"80px",width:"100px",float:"left"},attrs:{src:e.catURL,fit:"cover"}}),t("el-radio",{attrs:{label:"cat"},model:{value:e.selectedImage,callback:function(t){e.selectedImage=t},expression:"selectedImage"}},[e._v("Cat ")])],1),t("el-card",{staticClass:"catdogcard",attrs:{"body-style":{padding:"10px 20px"},shadow:"dog"===this.selectedImage?"always":"hover"}},[t("el-image",{staticStyle:{height:"80px",width:"100px",float:"left"},attrs:{src:e.dogURL,fit:"cover"}}),t("el-radio",{attrs:{label:"dog"},model:{value:e.selectedImage,callback:function(t){e.selectedImage=t},expression:"selectedImage"}},[e._v("Dog ")])],1),t("el-button",{staticStyle:{"margin-bottom":"10px",float:"right"},attrs:{slot:"trigger",type:"primary",disabled:"true"},slot:"trigger"},[e._v(" Browse and Upload Image ")]),t("el-button",{staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{type:"warning"},on:{click:e.submitDelopyment}},[e._v("Run")])],1)]),t("el-col",{attrs:{span:16}},[t("div",{staticStyle:{"text-align":"right"}},[t("el-input",{staticStyle:{width:"96%","margin-right":"0px"},attrs:{readonly:"",resize:"none",type:"textarea",rows:"12"},model:{value:e.deploymentlogs,callback:function(t){e.deploymentlogs=t},expression:"deploymentlogs"}})],1)])],1)],1)])])],1)},w=[],F=a("a859"),I=a.n(F),N=a("d390"),A=a.n(N),D={created(){var e=sessionStorage.getItem("modelFile"),t=sessionStorage.getItem("datasetFile"),a=sessionStorage.getItem("algorithm"),l=sessionStorage.getItem("epoch"),s=sessionStorage.getItem("learningRate"),i=sessionStorage.getItem("directModelReuse"),r=(sessionStorage.getItem("targetClass"),sessionStorage.getItem("targetClassLabel")),o=sessionStorage.getItem("alpha"),n=(sessionStorage.getItem("targetSuperclassIdx"),sessionStorage.getItem("targetSuperclassLabel"));this.dataTable.modelFile=e,this.dataTable.datasetFile=t,this.dataTable.algorithm=a,this.dataTable.epoch=l,this.dataTable.learningRate=s,this.dataTable.directModelReuse=i,this.dataTable.targetClass=r,this.dataTable.alpha=o,this.dataTable.targetSuperclassIdx=n,console.log(this.dataTable),this.socket=Object(S["a"])("http://localhost:5000/"),this.socket.on("connect",()=>{console.log("socket connected")}),this.socket.on("deployment_result",e=>{console.log("received deployment result: "+JSON.stringify(e)),this.deploymentlogs+="Predict Result: "+JSON.stringify(e)+"\n"}),this.socket.on("deployment_message",e=>{console.log("received deployment message: "+e),this.deploymentlogs+="Message: "+e+"\n"})},beforeDestroy(){this.socket.off("connect"),this.socket.off("deployment_result"),this.socket.off("deployment_message"),this.socket.close()},data(){return{selectedImage:"",dataTable:{algorithm:"",modelFile:null,datasetFile:null,learningRate:.01,epoch:145,alpha:1,directModelReuse:"",targetSuperclassIdx:"",targetClass:""},fileList:[],deploymentlogs:"",imageUrl:"https://t7.baidu.com/it/u=4162611394,4275913936&fm=193&f=GIF",catURL:I.a,dogURL:A.a}},methods:{jumptohome(){this.$router.push("/modularization")},submitDelopyment(){const e={image:this.selectedImage};p["a"].post("http://localhost:5000/run_deployment",e).catch(e=>{console.error(e),this.logs="An error occurred while running the model."})}}},E=D,T=(a("5fe1"),Object(n["a"])(E,R,w,!1,null,null,null)),O=T.exports,G=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{height:"85px"}},[t("span",{staticStyle:{"margin-top":"0","margin-left":"5%"},on:{click:e.jumptohome}},[e._v(" DNNDecomposer")])]),t("el-main",[t("h2",{staticStyle:{"text-align":"left","margin-left":"10.5%","margin-top":"2%","margin-bottom":"3%"}},[t("i",{staticClass:"el-icon-arrow-left",staticStyle:{"margin-right":"5px"},on:{click:e.jumptohome}}),e._v(" Run Benchmark")]),t("div",{staticClass:"main-body",staticStyle:{"margin-left":"10%","margin-right":"10%","margin-top":"50px"}},[t("el-divider",{staticStyle:{width:"80%","margin-left":"10%"}}),t("el-row",[t("el-col",{attrs:{span:12}},[t("div",[t("h3",{staticStyle:{"margin-left":"10%","margin-right":"10%","margin-top":"20px",float:"left",width:"100px"}},[e._v(" SeaM")]),t("el-button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"10%",width:"200px"},attrs:{type:"success"},on:{click:function(t){e.SEAMdialogVisible=!0}}},[e._v(" RUN Benchmark ")]),t("div",{staticClass:"tableBody",staticStyle:{width:"95%","margin-left":"5%"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataSEAM,stripe:"","row-class-name":e.coloredrow,"span-method":e.objectSpanMethod,"header-cell-style":{textAlign:"center",height:"100px"},"cell-style":{"text-align":"center"}}},[t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"targetProblem",label:"Target // Problem",width:"175"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"modelName",label:"Model // Name",width:"160"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"targetClass",label:"Default Target Class"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"learningRate",label:"Learning // Rate"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"alpha",label:"Alpha"}})],1)],1)],1)]),t("el-col",{attrs:{span:12}},[t("div",[t("h3",{staticStyle:{"margin-left":"10%","margin-right":"10%","margin-top":"20px",float:"left",width:"100px"}},[e._v(" GradSplitter")]),t("el-button",{staticStyle:{float:"right","margin-top":"10px","margin-right":"10%",width:"200px"},attrs:{type:"success"},on:{click:function(t){e.GRADdialogVisible=!0}}},[e._v(" RUN Benchmark ")]),t("div",{staticClass:"tableBody",staticStyle:{width:"95%","margin-left":"5%"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataGrad,stripe:"","row-class-name":e.coloredrow,"header-cell-style":{textAlign:"center",height:"100px"},"cell-style":{"text-align":"center"}}},[t("el-table-column",{attrs:{prop:"modelName",label:"Model Name",width:"150"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"learningRate_head",label:"Learning Rate // (head)"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,width:"90",prop:"learningRate_modularity",label:"Learning Rate // (modular)"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"epochs_head",label:"Epochs // (head)"}}),t("el-table-column",{attrs:{"render-header":e.renderheader,prop:"epochs_modularity",label:"Epochs // (modular)"}})],1)],1)],1)])],1),t("el-dialog",{attrs:{title:"Run SeaM Benchmark",visible:e.SEAMdialogVisible,width:"30%"},on:{"update:visible":function(t){e.SEAMdialogVisible=t}}},[t("span",[t("el-descriptions",{attrs:{title:"Benchmark Information",border:"",size:"small"}},[t("el-descriptions-item",{attrs:{label:"Algortihm",span:"2"}},[t("el-tag",{staticStyle:{"font-weight":"bolder"},attrs:{effect:"dark",hit:!0,color:"SEAM"===e.seambenchmarkdata.algorithm?"#00bcd4":"#ffc107"}},[e._v(" "+e._s(e.seambenchmarkdata.algorithm))])],1),"SEAM"===e.seambenchmarkdata.algorithm?t("el-descriptions-item",{attrs:{span:"2",label:"Model Reuse Method"}},[e._v(e._s(e.seambenchmarkdata.directModelReuse))]):e._e(),t("el-descriptions-item",{attrs:{label:"Model",span:"2"}},[e._v(e._s(e.seambenchmarkdata.modelFile))]),t("el-descriptions-item",{attrs:{label:"Dataset",span:"2"}},[e._v(e._s(e.seambenchmarkdata.datasetFile))]),"GradSplitter"===e.seambenchmarkdata.algorithm?t("el-descriptions-item",{attrs:{label:"Epochs"}},[e._v(e._s(e.seambenchmarkdata.epoch))]):e._e(),"SEAM"===e.seambenchmarkdata.algorithm&&"Multi-Class Classification"===e.seambenchmarkdata.directModelReuse?t("el-descriptions-item",{attrs:{span:"4",label:"Default Target Superclass Idx"}},[e._v(e._s(e.seambenchmarkdata.targetSuperclassIdx))]):e._e(),"SEAM"===e.seambenchmarkdata.algorithm&&"Binary Classification"===e.seambenchmarkdata.directModelReuse?t("el-descriptions-item",{attrs:{span:"4",label:"Default Target Class Idx"}},[e._v(e._s(e.seambenchmarkdata.targetClass))]):e._e(),t("el-descriptions-item",{attrs:{label:"Learning rate",span:"2"}},[e._v(e._s(e.seambenchmarkdata.learningRate))]),"SEAM"===e.seambenchmarkdata.algorithm?t("el-descriptions-item",{attrs:{label:"Alpha",span:"2"}},[e._v(e._s(e.seambenchmarkdata.alpha))]):e._e()],1)],1),t("span",[t("el-input",{staticStyle:{width:"100%","margin-top":"40px"},attrs:{readonly:"",resize:"none",type:"textarea",rows:"7"},model:{value:e.seambenchmarklogs,callback:function(t){e.seambenchmarklogs=t},expression:"seambenchmarklogs"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.openSEAMdialog}},[e._v("RUN")]),t("el-button",{attrs:{type:"warning"},on:{click:function(t){e.SEAMdialogVisible=!1}}},[e._v("Close")])],1)]),t("el-dialog",{attrs:{title:"Run GradSplitter Benchmark",visible:e.GRADdialogVisible,width:"30%"},on:{"update:visible":function(t){e.GRADdialogVisible=t}}},[t("span",[t("el-descriptions",{attrs:{title:"Benchmark Information",border:"",size:"small"}},[t("el-descriptions-item",{attrs:{label:"Algortihm",span:"6"}},[t("el-tag",{staticStyle:{"font-weight":"bolder"},attrs:{effect:"dark",hit:!0,color:"SEAM"===e.gradbenchmarkdata.algorithm?"#00bcd4":"#ffc107"}},[e._v(" "+e._s(e.gradbenchmarkdata.algorithm))])],1),t("el-descriptions-item",{attrs:{label:"Model",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.modelFile))]),t("el-descriptions-item",{attrs:{label:"Dataset",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.datasetFile))]),"GradSplitter"===e.gradbenchmarkdata.algorithm?t("el-descriptions-item",{attrs:{label:"Epochs(Head)",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.epochs_head))]):e._e(),"GradSplitter"===e.gradbenchmarkdata.algorithm?t("el-descriptions-item",{attrs:{label:"Epochs(Modularity)",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.epochs_modularity))]):e._e(),t("el-descriptions-item",{attrs:{label:"Learning rate(Head)",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.learningRate_head))]),t("el-descriptions-item",{attrs:{label:"Learning rate(Modulartiy)",span:"2"}},[e._v(e._s(e.gradbenchmarkdata.learningRate_modularity))])],1)],1),t("span",[t("el-input",{staticStyle:{width:"100%","margin-top":"40px"},attrs:{readonly:"",resize:"none",type:"textarea",rows:"7"},model:{value:e.gradbenchmarklogs,callback:function(t){e.gradbenchmarklogs=t},expression:"gradbenchmarklogs"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.openGRADdialog}},[e._v("RUN")]),t("el-button",{attrs:{type:"warning"},on:{click:function(t){e.GRADdialogVisible=!1}}},[e._v("Close")])],1)])],1)])],1)},z=[],P={created(){this.socket=Object(S["a"])("http://localhost:5000/"),this.socket.on("connect",()=>{console.log("socket connected")}),this.socket.on("seam_result",e=>{console.log("received seam result: "+JSON.stringify(e)),this.seambenchmarklogs+="SeaM Result: "+JSON.stringify(e)+"\n"}),this.socket.on("seam_message",e=>{console.log("received seam message: "+e),this.seambenchmarklogs+="Message: "+e+"\n"}),this.socket.on("grad_result",e=>{console.log("received grad result: "+JSON.stringify(e)),this.gradbenchmarklogs+="GradSplitter Result: "+JSON.stringify(e)+"\n"}),this.socket.on("grad_message",e=>{console.log("received grad message: "+e),this.gradbenchmarklogs+="Message: "+e+"\n"})},beforeDestroy(){this.socket.off("connect"),this.socket.off("seam_result"),this.socket.off("seam_message"),this.socket.off("grad_result"),this.socket.off("grad_message"),this.socket.close()},data(){return{SEAMdialogVisible:!1,GRADdialogVisible:!1,seambenchmarklogs:"",gradbenchmarklogs:"",dataTable:{modelName:"SimCNN",dataset:"CIFAR-10",epochs:"100",lr:"0.01",alogrithm:"GradSplitter"},tableDataSEAM:[{targetProblem:"Binary Classification",modelName:"VGG16-CIFAR10",learningRate:"0.01",alpha:"1.00",targetClass:"0"},{targetProblem:"Binary Classification",modelName:"VGG16-CIFAR100",learningRate:"0.05",alpha:"1.50",targetClass:"0"},{targetProblem:"Binary Classification",modelName:"ResNet20-CIFAR10",learningRate:"0.05",alpha:"1.00",targetClass:"0"},{targetProblem:"Binary Classification",modelName:"ResNet20-CIFAR100",learningRate:"0.12",alpha:"1.50",targetClass:"0"},{targetProblem:"Multi-class Classification",modelName:"ResNet20-CIFAR100",learningRate:"0.10",alpha:"2.00",targetSuperclassIdx:"0",targetClass:"0"},{targetProblem:"Multi-class Classification",modelName:"ResNet20-ImageNet",learningRate:"0.05",alpha:"2.00",targetSuperclassIdx:"0",targetClass:"0"}],tableDataGrad:[{modelName:"SimCNN-CIFAR10",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"},{modelName:"SimCNN-SVHN",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"},{modelName:"ResCNN-CIFAR10",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"},{modelName:"ResCNN-SVHN",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"},{modelName:"InceCNN-CIFAR10",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"},{modelName:"InceCNN-SVHN",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"}],seambenchmarkdata:{algorithm:"SEAM",modelFile:"VGG16",datasetFile:"CIFAR-10",learningRate:"0.01",directModelReuse:"Binary Classification",alpha:"1.00",targetSuperclassIdx:"2",targetClass:"0"},gradbenchmarkdata:{algorithm:"GradSplitter",modelFile:"SimCNN",datasetFile:"CIFAR-10",learningRate_head:"0.01",learningRate_modularity:"0.001",epochs_head:"5",epochs_modularity:"140"}}},methods:{jumptohome(){this.$router.push("/modularization")},coloredrow({row:e,rowIndex:t}){return 0===t?"success-row":""},objectSpanMethod({row:e,column:t,rowIndex:a,columnIndex:l}){if(0===l)return 0==a?{rowspan:4,colspan:1}:4==a?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},renderheader(e,{column:t}){return e("span",{},[e("span",{},t.label.split("//")[0]),e("br"),e("span",{},t.label.split("//")[1])])},openSEAMdialog(){const e={modelFile:"vgg16",datasetFile:"cifar10",algorithm:"SEAM",learningRate:this.seambenchmarkdata.learningRate,directModelReuse:this.seambenchmarkdata.directModelReuse,targetClass:this.seambenchmarkdata.targetClass,alpha:this.seambenchmarkdata.alpha,epoch:"",targetSuperclassIdx:""};p["a"].post("http://localhost:5000/benchmark",e).then(e=>{}).catch(e=>{console.error(e),this.seambenchmarklogs="An error occurred while deloping the benchmark."})},openGRADdialog(){const e={modelFile:"simcnn",datasetFile:"cifar10",algorithm:"GradSplitter",learningRate:"",directModelReuse:"",targetClass:"",alpha:"",epoch:"",targetSuperclassIdx:""};p["a"].post("http://localhost:5000/benchmark",e).then(e=>{}).catch(e=>{console.error(e),this.gradbenchmarklogs="An error occurred while deloping the benchmark."})}}},U=P,B=(a("8675"),Object(n["a"])(U,G,z,!1,null,null,null)),j=B.exports;l["default"].use(u["a"]);const L=new u["a"]({routes:[{path:"/",redirect:"/modularization"},{path:"/modularization",component:C,meta:{title:"DNNDecomposer Modularization"}},{path:"/deployment",component:O,meta:{title:"DNNDecomposer Deployment"}},{path:"/benchmark",component:j,meta:{title:"DNNDecomposer Benchmark"}},{path:"/old",component:f,meta:{title:"Oh No DONT LOOK AT MEEEEE"}}]});L.beforeEach((e,t,a)=>{e.meta.title&&(document.title=e.meta.title),a()});var V=L,J=a("2e36"),q=a.n(J),H=(a("94a3"),a("e948")),$=a.n(H);a("27b8");l["default"].use(q.a),l["default"].use(new $.a({debug:!0,connection:"http://127.0.0.1:5000"})),new l["default"]({render:e=>e(d),router:V}).$mount("#app")},"56da":function(e,t,a){},"5fe1":function(e,t,a){"use strict";a("514d")},7148:function(e,t,a){"use strict";a("8c88")},8675:function(e,t,a){"use strict";a("ddcf")},"8c88":function(e,t,a){},9042:function(e,t,a){"use strict";a("05ea")},"94a3":function(e,t,a){},a859:function(e,t,a){e.exports=a.p+"img/cat.202061c7.jpg"},d390:function(e,t,a){e.exports=a.p+"img/dog.27588ebc.jpg"},ddcf:function(e,t,a){},e2c9:function(e,t,a){"use strict";a("56da")}});
//# sourceMappingURL=app.5b6310d4.js.map